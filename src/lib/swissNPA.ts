// Liste minimale d'exemple — remplace/complète avec ton dataset complet
export type NpaMap = Record<string, string[]>;

export const SWISS_NPA: NpaMap = {
    '1000': ['Lausanne'],
    '1003': ['Lausanne'],
    '1004': ['Lausanne'],
    '1006': ['Lausanne'],
    '1007': ['Lausanne'],
    '1008': ['Prilly'],
    '1009': ['Pully'],
    '1010': ['Lausanne'],
    '1011': ['CHUV Lausanne'],
    '1012': ['Chailly Migros Lausanne'],
    '1014': ['Lausanne VD'],
    '1015': ['Centre Universitaire Ecublens (VD)'],
    '1018': ['Lausanne'],
    '1020': ['Renens VD'],
    '1022': ['Chavannes-près-Renens'],
    '1023': ['Crissier'],
    '1024': ['Ecublens (VD)'],
    '1025': ['Saint-Sulpice (VD)'],
    '1026': ['Echandens'],
    '1027': ['Lonay'],
    '1028': ['Préverenges'],
    '1030': ['Bussigny'],
    '1031': ['Mex (VD)'],
    '1032': ['Romanel-sur-Lausanne'],
    '1033': ['Cheseaux-sur-Lausanne'],
    '1034': ['Boussens'],
    '1035': ['Bournens'],
    '1036': ['Sullens'],
    '1037': ['Etagnières'],
    '1038': ['Bercher'],
    '1040': ['Echallens'],
    '1041': ['Bottens'],
    '1042': ['Assens'],
    '1043': ['Montilliez'],
    '1044': ['Fey'],
    '1045': ['Ogens'],
    '1046': ['Rueyres'],
    '1047': ['Oppens'],
    '1052': ['Le Mont-sur-Lausanne'],
    '1053': ['Bretigny-sur-Morrens'],
    '1054': ['Morrens (VD)'],
    '1055': ['Froideville'],
    '1058': ['Jorat-Menthue'],
    '1059': ['Jorat-Menthue'],
    '1061': ['Jorat-Menthue'],
    '1062': ['Jorat-Menthue'],
    '1063': ['Boulens'],
    '1066': ['Epalinges'],
    '1070': ['Puidoux'],
    '1071': ['Chexbres'],
    '1072': ['Forel (Lavaux)'],
    '1073': ['Savigny'],
    '1076': ['Jorat-Mézières'],
    '1077': ['Servion'],
    '1078': ['Essertes'],
    '1080': ['Cullayes Servion'],
    '1081': ['Montpreveyres'],
    '1082': ['Corcelles-le-Jorat'],
    '1083': ['Jorat-Mézières'],
    '1084': ['Jorat-Mézières'],
    '1085': ['Vulliens'],
    '1088': ['Ropraz'],
    '1090': ['Croix (Lutry) Lutry'],
    '1091': ['Bourg-en-Lavaux'],
    '1092': ['Belmont-sur-Lausanne'],
    '1094': ['Paudex'],
    '1095': ['Lutry'],
    '1096': ['Bourg-en-Lavaux'],
    '1097': ['Bourg-en-Lavaux'],
    '1098': ['Bourg-en-Lavaux'],
    '1110': ['Morges'],
    '1112': ['Echichens'],
    '1113': ['Echichens'],
    '1114': ['Echichens'],
    '1115': ['Vullierens'],
    '1116': ['Cottens (VD)'],
    '1117': ['Grancy'],
    '1121': ['Bremblens'],
    '1122': ['Romanel-sur-Morges'],
    '1123': ['Aclens'],
    '1124': ['Gollion'],
    '1125': ['Echichens'],
    '1126': ['Vaux-sur-Morges'],
    '1128': ['Reverolle'],
    '1132': ['Lully (VD)'],
    '1134': ['Chigny'],
    '1135': ['Denens'],
    '1136': ['Bussy-Chardonney'],
    '1141': ['Sévery'],
    '1142': ['Pampigny'],
    '1143': ['Apples'],
    '1144': ['Ballens'],
    '1145': ['Bière'],
    '1146': ['Mollens (VD)'],
    '1147': ['Montricher'],
    '1148': ['Chavannes-le-Veyron'],
    '1149': ['Berolle'],
    '1162': ['St-Prex'],
    '1163': ['Etoy'],
    '1165': ['Allaman'],
    '1166': ['Perroy'],
    '1167': ['Lussy-sur-Morges'],
    '1168': ['Villars-sous-Yens'],
    '1169': ['Yens'],
    '1170': ['Aubonne'],
    '1172': ['Bougy-Villars'],
    '1173': ['Féchy'],
    '1174': ['Aubonne'],
    '1175': ['Lavigny'],
    '1176': ['Saint-Livres'],
    '1180': ['Rolle'],
    '1182': ['Gilly'],
    '1183': ['Bursins'],
    '1184': ['Luins'],
    '1185': ['Mont-sur-Rolle'],
    '1186': ['Essertines-sur-Rolle'],
    '1187': ['Saint-Oyens'],
    '1188': ['Gimel'],
    '1189': ['Saubraz'],
    '1195': ['Bursinel'],
    '1196': ['Gland'],
    '1197': ['Prangins'],
    '1201': ['Genève'],
    '1202': ['Genève'],
    '1203': ['Genève'],
    '1204': ['Genève'],
    '1205': ['Genève'],
    '1206': ['Genève'],
    '1207': ['Genève'],
    '1208': ['Genève'],
    '1211': ['Genève'],
    '1227': ['Carouge GE'],
    '1260': ['Nyon'],
    '1261': ['Vaud Le Vaud'],
    '1262': ['Eysins'],
    '1263': ['Crassier'],
    '1264': ['Saint-Cergue'],
    '1265': ['Cure Saint-Cergue'],
    '1266': ['Duillier'],
    '1267': ['Vich'],
    '1268': ['Begnins'],
    '1269': ['Bassins'],
    '1270': ['Trélex'],
    '1271': ['Givrins'],
    '1272': ['Genolier'],
    '1273': ['Muids Arzier-Le Muids'],
    '1274': ['Grens'],
    '1275': ['Chéserex'],
    '1276': ['Gingins'],
    '1277': ['Borex'],
    '1278': ['Rippe La Rippe'],
    '1279': ['Chavannes-de-Bogis'],
    '1295': ['Mies'],
    '1296': ['Coppet'],
    '1297': ['Founex'],
    '1299': ['Crans-près-Céligny'],
    '1300': ['CC Dépôt Eclépens'],
    '1302': ['Vufflens-la-Ville'],
    '1303': ['Penthaz'],
    '1304': ['Cossonay'],
    '1305': ['Penthalaz'],
    '1306': ['Daillens'],
    '1307': ['Lussery-Villars'],
    '1308': ['Chaux (Cossonay) La Chaux (Cossonay)'],
    '1310': ['Base de distribution Daillens'],
    '1312': ['Eclépens'],
    '1313': ['Ferreyres'],
    '1315': ['Sarraz La Sarraz'],
    '1316': ['Chevilly'],
    '1317': ['Orny'],
    '1318': ['Pompaples'],
    '1321': ['Arnex-sur-Orbe'],
    '1322': ['Croy'],
    '1323': ['Romainmôtier-Envy'],
    '1324': ['Premier'],
    '1325': ['Vaulion'],
    '1326': ['Juriens'],
    '1329': ['Bretonnières'],
    '1337': ['Vallorbe'],
    '1338': ['Ballaigues'],
    '1342': ["Pont L'Abbaye"],
    '1343': ['Charbonnières Le Lieu'],
    '1344': ["L'Abbaye"],
    '1345': ['Lieu Le Lieu'],
    '1346': ["Bioux L'Abbaye"],
    '1347': ['Sentier Le Chenit'],
    '1348': ['Brassus Le Chenit'],
    '1350': ['Orbe'],
    '1352': ['Agiez'],
    '1353': ['Bofflens'],
    '1354': ['Montcherand'],
    '1355': ["L'Abergement"],
    '1356': ['Russille Les Clées'],
    '1357': ['Lignerolle'],
    '1358': ['Valeyres-sous-Rances'],
    '1372': ['Bavois'],
    '1373': ['Chavornay'],
    '1374': ['Chavornay'],
    '1375': ['Penthéréaz'],
    '1376': ['Goumoëns'],
    '1377': ['Oulens-sous-Echallens'],
    '1400': ['Les Moulins Yverdon-les-Bains'],
    '1404': ['Cuarny'],
    '1405': ['Pomy'],
    '1406': ['Cronay'],
    '1407': ['Bioley-Magnoux'],
    '1408': ['Donneloye'],
    '1409': ['Montanaire'],
    '1410': ['Montanaire'],
    '1412': ['Ursins'],
    '1413': ['Orzens'],
    '1415': ['Démoret'],
    '1416': ['Pailly'],
    '1417': ['Essertines-sur-Yverdon'],
    '1418': ['Vuarrens'],
    '1420': ['Fiez'],
    '1421': ['Fontaines-sur-Grandson'],
    '1422': ['Grandson'],
    '1423': ['Tévenon'],
    '1424': ['Champagne'],
    '1425': ['Onnens (VD)'],
    '1426': ['Concise'],
    '1427': ['Bonvillars'],
    '1428': ['Mutrux'],
    '1429': ['Giez'],
    '1430': ['Orges'],
    '1431': ['Novalles'],
    '1432': ['Belmont-sur-Yverdon'],
    '1433': ['Suchy'],
    '1434': ['Ependes (VD)'],
    '1435': ['Chavornay'],
    '1436': ['Chamblon'],
    '1437': ['Suscévaz'],
    '1438': ['Mathod'],
    '1439': ['Rances'],
    '1440': ['Montagny-près-Yverdon'],
    '1441': ['Valeyres-sous-Montagny'],
    '1442': ['Migrolino Montagny-près-Yverdon'],
    '1443': ['Champvent'],
    '1445': ['Vuiteboeuf'],
    '1446': ['Baulmes'],
    '1450': ['Sainte-Croix'],
    '1452': ['Rasses Bullet'],
    '1453': ['Bullet'],
    '1454': ['Sainte-Croix'],
    '1463': ['Rovray'],
    '1464': ['Chavannes-le-Chêne'],
    '1509': ['Vucherens'],
    '1510': ['Moudon'],
    '1512': ['Chavannes-sur-Moudon'],
    '1513': ['Hermenches'],
    '1514': ['Bussy-sur-Moudon'],
    '1515': ['Montanaire'],
    '1521': ['Curtilles'],
    '1522': ['Lucens'],
    '1523': ['Valbroye'],
    '1524': ['Valbroye'],
    '1525': ['Henniez'],
    '1526': ['Lucens'],
    '1530': ['Payerne'],
    '1534': ['Valbroye'],
    '1535': ['Valbroye'],
    '1536': ['Valbroye'],
    '1537': ['Champtauroz'],
    '1538': ['(Payerne) Treytorrens (Payerne)'],
    '1543': ['Grandcour'],
    '1545': ['Chevroux'],
    '1551': ['Payerne'],
    '1552': ['Trey'],
    '1554': ['Villarzel'],
    '1555': ['Villarzel'],
    '1562': ['Corcelles-près-Payerne'],
    '1565': ['Missy'],
    '1580': ['Avenches'],
    '1584': ['Vully-les-Lacs'],
    '1585': ['Vully-les-Lacs'],
    '1586': ['Vully-les-Lacs'],
    '1587': ['Vully-les-Lacs'],
    '1588': ['Cudrefin'],
    '1589': ['Vully-les-Lacs'],
    '1595': ['Faoug'],
    '1607': ['Tavernes Oron'],
    '1608': ['Oron'],
    '1610': ['Oron'],
    '1612': ['Oron'],
    '1613': ['Maracon'],
    '1658': ['Tine Rossinière'],
    '1659': ['Rougemont'],
    '1660': ["Château-d'Oex"],
    '1682': ['Dompierre (VD)'],
    '1683': ['Lucens'],
    '1700': ['Fribourg'],
    '1787': ['(Vully) VD Vully-les-Lacs'],
    '1800': ['Vevey'],
    '1801': ['Mont-Pèlerin Chardonne'],
    '1802': ['Corseaux'],
    '1803': ['Chardonne'],
    '1804': ['Corsier-sur-Vevey'],
    '1805': ['Jongny'],
    '1806': ['Chiésaz Saint-Légier-La Chiésaz'],
    '1807': ['Blonay'],
    '1808': ['Monts-de-Corsier Corsier-sur-Vevey'],
    '1809': ['Corsier-sur-Vevey'],
    '1814': ['Tour-de-Peilz La Tour-de-Peilz'],
    '1815': ['Montreux'],
    '1816': ['Montreux'],
    '1820': ['Montreux'],
    '1822': ['Montreux'],
    '1823': ['Montreux'],
    '1824': ['Montreux'],
    '1832': ['Montreux'],
    '1833': ['Avants Montreux'],
    '1844': ['Villeneuve (VD)'],
    '1845': ['Noville'],
    '1846': ['Chessel'],
    '1847': ['Rennaz'],
    '1852': ['Roche (VD)'],
    '1854': ['Leysin'],
    '1856': ['Corbeyrier'],
    '1860': ['Aigle'],
    '1862': ['Comballaz Ormont-Dessous'],
    '1863': ['Sépey Ormont-Dessous'],
    '1864': ['Ormont-Dessus'],
    '1865': ['Diablerets Ormont-Dessus'],
    '1866': ['Forclaz VD Ormont-Dessous'],
    '1867': ['Ollon'],
    '1880': ['Bex'],
    '1882': ['Gryon'],
    '1884': ['Ollon'],
    '1892': ['Lavey-Morcles'],
    '2000': ['Neuchâtel'],
    '3000': ['Bern'],
    '4000': ['Basel'],
    '6000': ['Luzern'],
    '6900': ['Lugano'],
    '8000': ['Zürich'],
    '8050': ['Zürich']
}

// Helpers
export function lookupCommunes(npa?: string, map: NpaMap = SWISS_NPA): string[] {
  if (!npa || npa.length !== 4) return [];
  return map[npa] ?? [];
}

export function firstCommune(npa?: string, map: NpaMap = SWISS_NPA): string {
  const list = lookupCommunes(npa, map);
  return list[0] ?? '';
}
